# 🔍 Git 파일 비교(`diff`), 삭제(`rm`), 복원(`restore`) 요약

---

## 1. 파일 비교 명령 (`$ git diff`)

`$ git diff` 명령은 깃의 세 영역(작업 디렉토리, 스테이징 영역, 깃 저장소) 간의 파일 차이를 비교할 때 사용됩니다.

| 비교 명령 | 기준 영역 (비교하는 쪽) | 대상 영역 (비교 당하는 쪽) | 설명 |
| :--- | :--- | :--- | :--- |
| **`$ git diff`** | 스테이징 영역 (Index) | **작업 디렉토리** (Working Directory) | [cite_start]스테이징된 내용과 작업 중인 내용의 차이를 비교합니다. [cite: 620, 2838] |
| **`$ git diff --staged`** (또는 `--cached`) | 깃 저장소 (HEAD) | **스테이징 영역** (Staging Area) | [cite_start]마지막 커밋된 내용과 다음 커밋될 준비가 된 내용의 차이를 비교합니다. [cite: 622, 2840] |
| **`$ git diff HEAD`** | 깃 저장소 (HEAD) | **작업 디렉토리** (Working Directory) | [cite_start]마지막 커밋된 내용과 현재 작업 중인 내용의 차이를 비교합니다. [cite: 624, 2843] |
| **`$ git diff [CID1] [CID2]`** | 지정 커밋 1 | 지정 커밋 2 | [cite_start]두 특정 커밋(ID 또는 HEAD 참조) 간의 파일 차이를 비교합니다. [cite: 2846, 2848] |

> [cite_start]💡 **HEAD 참조**: `HEAD`는 최신 커밋을 가리키며, `HEAD~`는 바로 이전 커밋, `HEAD~2`는 2단계 이전 커밋을 의미합니다. [cite: 2514, 2517, 2524]

---

## 2. 파일 삭제 명령 (`rm` 및 `git rm`)

파일을 삭제하는 명령은 깃의 추적 여부 및 삭제 대상 영역에 따라 달라집니다.

| 명령어 | 대상 영역 | 효과 | 비고 |
| :--- | :--- | :--- | :--- |
| **`$ rm <file>`** | 작업 디렉토리 | 리눅스 명령. [cite_start]**작업 디렉토리**에서만 파일을 삭제하며, 깃은 이 파일을 '삭제된 파일'로 인지합니다. [cite: 4046, 4542] |
| **`$ git rm <file>`** | 작업 디렉토리 + 스테이징 영역 | [cite_start]다음 커밋 시 파일을 삭제하겠다는 의미로, **두 영역**에서 모두 삭제합니다. [cite: 4050, 4544] |
| **`$ git rm --cached <file>`** | 스테이징 영역만 | **스테이징 영역**에서만 추적을 중지하고 삭제하며, **작업 디렉토리**에는 파일을 유지합니다. [cite_start]이 파일은 `Untracked` 상태가 됩니다. [cite: 4053, 4546] |

---

## 3. 파일 복원 명령 (`$ git restore`)

`$ git restore` 명령은 파일을 특정 상태(커밋, 스테이징 영역)로 되돌릴 때 사용합니다.

| 명령어 | 복원 대상 영역 | 복원 소스 (기준) | 설명 |
| :--- | :--- | :--- | :--- |
| **`$ git restore <file>`** | 작업 디렉토리 | **스테이징 영역** (Staging Area) | 스테이징 영역의 상태를 **작업 디렉토리**에 복원합니다. [cite_start]작업 디렉토리의 변경 사항이 사라집니다. [cite: 4548, 4547] |
| **`$ git restore --staged <file>`** | 스테이징 영역 | **깃 저장소 (HEAD)** | 깃 저장소(HEAD)의 상태를 **스테이징 영역**에 복원합니다. [cite_start]스테이징 영역의 내용이 마지막 커밋 상태로 돌아갑니다. [cite: 4554, 4553] |
| **`$ git restore --source=HEAD <file>`** (또는 `--worktree`) | 작업 디렉토리 | **깃 저장소 (HEAD)** | [cite_start]깃 저장소(HEAD)의 상태를 **작업 디렉토리**에 복원합니다. [cite: 4557, 4556] |
| **`$ git restore --source=HEAD --staged --worktree <file>`** | 스테이징 영역 + 작업 디렉토리 | **깃 저장소 (HEAD)** | [cite_start]깃 저장소(HEAD)의 상태를 **두 영역에 한 번에** 복원하여 깨끗한 상태(clean)로 되돌립니다. [cite: 642, 4559] |