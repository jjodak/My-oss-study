# ⏪ Git 버전 되돌리기(`reset`) 및 커밋 취소(`revert`) 요약

---

## 1. 버전 되돌리기 (`$ git reset`)

[cite_start]`$ git reset`은 커밋 이력에서 **특정 과거 커밋으로 완전히 되돌아가는(roll back)** 방법입니다[cite: 1123, 7169]. [cite_start]이는 시계를 뒤로 맞추는 '타임 머신'과 같으며 [cite: 1124, 7170][cite_start], 되돌아간 커밋 이후의 이력은 **모두 사라지므로** 주의가 필요합니다[cite: 1125, 7171].

### 1.1 `reset` 옵션별 깃 3영역 변경 사항
[cite_start]`reset`은 지정된 커밋의 내용으로 깃 저장소(Git Repository)를 변경하고, `--옵션`에 따라 작업 폴더(Working Directory)와 스테이징 영역(Staging Area)의 내용을 어떻게 유지할지 결정합니다[cite: 1210, 1275].

| 옵션 | 작업 디렉토리 | 스테이징 영역 | 깃 저장소 | 설명 |
| :--- | :--- | :--- | :--- | :--- |
| **`--hard`** | **복사/수정** | **복사/수정** | **복사/수정** | [cite_start]**완전히 되돌립니다.** 지정된 커밋의 내용으로 3가지 영역이 모두 덮어쓰여, 작업 중이던 내용이 **모두 사라집니다**[cite: 1222, 1271, 7542]. |
| **`--mixed`** (기본값) | **유지** | **복사/수정** | **복사/수정** | [cite_start]스테이징 영역과 깃 저장소는 되돌려지지만, 작업 폴더의 내용은 이전 그대로 **남아있습니다**[cite: 1240, 1273, 7544]. (다시 `add`, `commit` 필요) |
| **`--soft`** | **유지** | **유지** | **복사/수정** | [cite_start]**깃 저장소만** 되돌려지고, 작업 폴더와 스테이징 영역의 내용은 이전 그대로 **남아있습니다**[cite: 1251, 1275, 7546]. (다시 `commit`만 필요) |

### 1.2 `reset` 핵심 명령
* [cite_start]**버전 되돌리기**: `$ git reset --hard HEAD~n` 또는 `$ git reset --hard <commit_ID>`[cite: 1212, 1219, 7542].
* [cite_start]**`reset` 취소**: 이전 `reset`을 바로 취소하여 **원래의 HEAD 상태로 복원**하려면 `$ git reset --hard ORIG_HEAD` 명령을 사용합니다[cite: 1326, 1379, 7548].

---

## 2. 커밋 취소 (`$ git revert`)

### 2.1 `revert` 개요 및 특징
* [cite_start]**기능**: 지정한 **특정 커밋을 취소**해 바로 이전 상태로 되돌리는 방법입니다[cite: 1416].
* [cite_start]**새로운 커밋**: `reset`과 다르게, 이전의 커밋 히스토리는 그대로 유지되며, 되돌리는 내용이 담긴 **새로운 커밋(C4)**이 그 이후에 추가됩니다[cite: 1419, 1764, 1749].
* [cite_start]**전제 조건**: `$ git revert`는 커밋할 것이 없고, 작업 영역(working tree)이 **깨끗해야** 수행 가능합니다 (`Nothing to commit, working tree clean`)[cite: 1417, 1766].
* [cite_start]**자동 메시지**: 옵션 `--no-edit`을 사용하면 편집기 실행 없이 커밋 메시지가 자동으로 `'Revert "<이전 커밋 메시지>"'`로 지정됩니다[cite: 1484, 1776].

### 2.2 `reset`과 `revert` 비교
| 항목 | `reset` (되돌리기) | `revert` (취소) |
| :--- | :--- | :--- |
| **기능** | [cite_start]특정 커밋 상태로 **이동** [cite: 1761, 1766] | [cite_start]특정 커밋을 **취소하는 새 커밋 생성** [cite: 1763, 1749] |
| **새로운 커밋** | [cite_start]**없음** [cite: 1766] | [cite_start]**있음** [cite: 1766] |
| **이전 커밋 이력** | [cite_start]되돌아간 시점 이후 **삭제됨** [cite: 1762, 1766] | [cite_start]모든 이력 **유지됨** [cite: 1764, 1766] |
| **작업 트리 상태** | [cite_start]상관없음 [cite: 1766] | [cite_start]**깨끗해야 함** (`clean`) [cite: 1766] |
| **충돌 발생** | [cite_start]없음 [cite: 1766] | [cite_start]**발생할 수 있음** (과거 커밋 취소 시) [cite: 1766] |
* [cite_start]**충돌 해결**: `revert` 중 충돌이 발생하면 파일을 수정한 후 `$ git add <file>` 및 `$ git revert --continue` 명령으로 해결합니다[cite: 1465, 1466, 1467, 1468].

---

## 3. `reset`과 `checkout`의 차이

| 명령어 | 이동 대상 | 커밋 이력 | HEAD 상태 | 브랜치 포인터 |
| :--- | :--- | :--- | :--- | :--- |
| **`reset <commit>`** | **브랜치의 마지막 커밋**을 변경 | [cite_start]이동된 커밋 이후 **삭제됨** [cite: 1762, 7485] | 브랜치 HEAD와 일치 | [cite_start]브랜치 포인터가 이동함 [cite: 1339, 7485] |
| **`checkout <commit>`** | **HEAD 포인터만** 이동 | [cite_start]그대로 **유지됨** [cite: 1764] | [cite_start]**Detached HEAD** 상태가 됨 [cite: 1354, 7500] | [cite_start]브랜치 포인터는 그대로 남음 [cite: 1356, 7502] |