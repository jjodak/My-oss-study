# 🔄 Git 브랜치 병합(Merge) 및 충돌 해결 요약

---

## 1. 브랜치 병합 유형 및 개요

### 1.1 브랜치 병합의 목적
* **병합(Merge)**: 두 개의 브랜치를 하나로 모으는 과정입니다.
* [cite_start]**병합 유형**: 깃은 주로 **Fast-forward (빨리 감기) 병합**과 **3-way 병합**의 두 가지 유형으로 병합을 처리합니다. [cite: 4245, 4246]

---

### 1.2 Fast-forward (FF) 병합
* [cite_start]**조건**: 현재 브랜치(기준 브랜치)가 병합할 대상 커밋의 직접적인 **뿌리(조상)가 되는 경우**, 즉 **두 브랜치가 일렬 상태**일 때 발생합니다. [cite: 4267, 4268, 4269]
* [cite_start]**동작**: 새로운 병합 커밋(Merge Commit)을 생성하지 않고, 기준 브랜치의 포인터(HEAD)를 대상 브랜치의 최신 커밋으로 단순히 이동(빨리 감기)시킵니다. [cite: 4273]
* [cite_start]**기본 명령**: `$ git merge <브랜치명>` (옵션이 없을 때 일렬 상태에서 기본으로 동작) [cite: 4420]
* [cite_start]**옵션**: `$ git merge --ff-only <브랜치명>`: **Fast-forward가 가능한 경우에만** 병합을 진행합니다. [cite: 1766, 4487, 4488]

---

### 1.3 3-way 병합
* [cite_start]**조건**: 두 브랜치가 공통 조상 커밋(Base)에서 갈라져 나와 **각자 독립적인 커밋을 쌓은 상태**일 때 발생합니다. [cite: 4314, 4315]
* [cite_start]**동작**: 두 브랜치의 변경 내용을 하나로 통합하는 **새로운 병합 커밋(E)**을 생성하여 두 기록을 합칩니다. [cite: 4326, 4335]
* [cite_start]**기본 명령**: `$ git merge <브랜치명>` (두 브랜치가 갈라져 있는 상태에서 기본으로 동작) [cite: 4475, 4476]
* **옵션**: `$ git merge --no-ff <브랜치명>`
    * [cite_start]**무조건 3-way 병합**을 수행하는 옵션입니다. [cite: 1764, 4478]
    * [cite_start]Fast-forward가 가능한 일렬 상태에서도 **강제로 새로운 병합 커밋**을 생성합니다. [cite: 4451, 4452]

---

### 1.4 Squash 병합
* [cite_start]**정의**: 병합 대상 브랜치의 **모든 커밋 이력**을 합쳐서(짓뭉개서) **단 하나의 새로운 커밋**으로 만들어 기준 브랜치에 병합합니다. [cite: 1638, 4505]
* [cite_start]**명령**: `$ git merge --squash <브랜치명>` [cite: 1768, 4489]
* [cite_start]**특징**: 병합된 후에는 **직접 메시지와 함께 커밋을 수행**해야 합니다. [cite: 1639, 4505] [cite_start]원본 브랜치의 커밋 이력(A, B, C 등)은 남기지 않습니다. [cite: 4504]

---

## 2. 병합 충돌과 해결

### 2.1 병합 충돌 (Conflict) 발생 이유
* [cite_start]**발생 시점**: 주로 **3-way 병합**을 시도할 때 발생합니다. [cite: 3953]
* [cite_start]**발생 원인**: 두 브랜치에서 **동일한 파일의 동일한 부분을 서로 다르게 수정**했기 때문에 Git이 어느 변경 사항을 적용해야 할지 자동으로 결정할 수 없는 상황입니다. [cite: 3963, 3964, 4145]

### 2.2 충돌 발생 시 상태
* [cite_start]**프롬프트**: 병합 충돌 발생 시 Git Bash 프롬프트에 `(main | MERGING)` 또는 `(main | CONFLICT)`와 같이 **`MERGING`** 상태가 표시됩니다. [cite: 3929]
* [cite_start]**`git status`**: `You have unmerged paths.` 메시지와 함께 충돌 파일이 `both modified`로 표시됩니다. [cite: 3940, 3945]
* [cite_start]**파일 내부 표기**: 충돌된 파일 내부에는 다음 세 가지 구분 기호가 표시됩니다. [cite: 4014]
    * [cite_start]**`<<<<<<< HEAD`**: 현재 브랜치(병합 기준 브랜치)의 수정 내용. [cite: 4016, 4043]
    * [cite_start]**`=======`**: 양쪽 브랜치의 변경 내용을 나누는 구분선. [cite: 4018, 4045]
    * [cite_start]**`>>>>>>> <브랜치명>`**: 병합되는 브랜치(`feat/list` 등)의 수정 내용. [cite: 4019, 4021, 4046, 4047]

### 2.3 충돌 해결 과정
1.  [cite_start]**파일 수정**: 충돌이 발생한 파일을 열어 (`$ code <file>`) 세 가지 구분 기호( `<<<<<<< HEAD`, `=======`, `>>>>>>> <브랜치명>`)를 **모두 제거**하고 원하는 최종 코드로 **직접 수정**합니다. [cite: 3987, 3993, 4023, 4024]
2.  **Add**: 수정한 파일을 스테이징 영역에 추가합니다 (`$ git add <file>`). [cite_start]이는 충돌 해결을 완료했음을 Git에게 알리는 행위입니다. [cite: 3990]
3.  **Commit**: 병합을 최종적으로 완료하기 위해 커밋을 수행합니다 (`$ git commit -am 'Resolve conflict, msg'`). [cite_start]이 커밋이 **3-way 병합 커밋**이 됩니다. [cite: 3990, 4097, 4124, 4136]

### 2.4 병합 취소
* [cite_start]**`$ git merge --abort`**: 충돌이 발생한 후 병합을 완전히 취소하고 **이전 상태로 되돌아갑니다**. [cite: 3942, 4088]